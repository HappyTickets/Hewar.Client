<p-toast></p-toast>

<div class="facility-form">
  <h2>{{ "app.facilities.edit-facility" | translate }}</h2>

  <form
    [formGroup]="facilityForm"
    (ngSubmit)="onSubmit()"
    class="form-create-facility f"
  >
    <div class="group n">
      <p class="p-group">{{ "app.facilities.facility-data" | translate }}</p>
      <app-input
        placeholder="facilities.facility-name"
        [formGroup]="facilityForm"
        errorKey="create-update-facility.nameError"
        controlName="name"
        icon="pi-id-card"
        type="text"
        label="facilities.facility-name"
      ></app-input>

      <app-input
        placeholder="facilities.facility-type"
        [formGroup]="facilityForm"
        errorKey="create-update-facility.activityTypeError"
        controlName="type"
        icon="pi-building"
        type="text"
        label="facilities.facility-type"
      ></app-input>

      <app-input
        placeholder="facilities.Commercial-Registration"
        [formGroup]="facilityForm"
        errorKey="create-update-facility.registrationNumberError"
        controlName="commercialRegistration"
        icon="pi-file"
        type="text"
        label="facilities.Commercial-Registration"
      ></app-input>

      <app-input
        placeholder="facilities.activity-type"
        [formGroup]="facilityForm"
        errorKey="create-update-facility.activityTypeError"
        controlName="activityType"
        icon="pi-barcode"
        type="text"
        label="facilities.activity-type"
      ></app-input>
      <p class="p-group">
        {{ "app.facilities.facility-det-address" | translate }}
      </p>
      <div class="address" formGroupName="address">
        <div class="p-input">
          <app-input
            [formGroup]="addressFormGroup"
            placeholder="facilities.street"
            errorKey="create-update-facility.streetError"
            controlName="street"
            icon="pi-map-marker"
            type="text"
            label="facilities.street"
          ></app-input>
        </div>
        <div class="p-input">
          <app-input
            placeholder="facilities.city"
            [formGroup]="addressFormGroup"
            errorKey="create-update-facility.cityError"
            controlName="city"
            icon="pi-map"
            type="text"
            label="facilities.city"
          ></app-input>
        </div>
        <div class="p-input">
          <app-input
            placeholder="facilities.state"
            [formGroup]="addressFormGroup"
            errorKey="create-update-facility.stateErrors"
            controlName="state"
            icon="pi-globe"
            type="text"
            label="facilities.state"
          ></app-input>
        </div>
        <div class="p-input">
          <app-input
            placeholder="facilities.country"
            [formGroup]="addressFormGroup"
            errorKey="create-update-facility.countryError"
            controlName="country"
            icon="pi-flag"
            type="text"
            label="facilities.country"
          ></app-input>
        </div>
        <div class="p-input">
          <app-input
            placeholder="facilities.postalCode"
            [formGroup]="addressFormGroup"
            errorKey="create-update-facility.postalCodeError"
            controlName="postalCode"
            icon="pi-flag"
            type="text"
            label="facilities.postalCode"
          ></app-input>
        </div>
      </div>
    </div>

    <p class="p-group">
      {{ "app.facilities.facility-Responsible" | translate }}
    </p>
    <div class="group">
      <div class="responsibleData">
        <div class="p-input">
          <app-input
            placeholder="facilities.responsipoleNam"
            [formGroup]="facilityForm"
            errorKey="create-update-facility.responsibleNameErr"
            controlName="responsibleName"
            icon="pi-user"
            type="text"
            label="facilities.responsipoleNam"
          ></app-input>
        </div>
        <div class="p-input">
          <app-input
            (keypress)="validateNumberInput($event)"
            placeholder="facilities.phone"
            [formGroup]="facilityForm"
            errorKey="create-update-facility.responsiblePhoneError"
            controlName="responsiblePhone"
            icon="pi-phone"
            type="text"
            label="facilities.phone"
          ></app-input>
        </div>
      </div>
    </div>

    <p class="p-group">
      {{ "app.facilities.facility-image" | translate }}
    </p>

    <div class="group image-upload">
      <app-upload-image-2
        (fileSelected)="onFileSelectedImage($event)"
      ></app-upload-image-2>
    </div>

    <div class="buttons">
      <div class="form-buttons">
        <div>
          <button
            pButton
            type="submit"
            label="update"
            class="p-button-success"
          ></button>
        </div>
        <div>
          <button
            pButton
            type="button"
            label="Cancel"
            class="p-button-secondary"
            (click)="cancel()"
          ></button>
        </div>
      </div>
    </div>
  </form>
</div>
